
# 배경
현재 상태는 단순히 게시물의 제목과 게시물의 본문을 가지고, 본문에 만약 이미지가 포함되어 있으면 본문의 의미지와 텍스트를 사용하여 요약을 진행함. 하지만 이런식인 경우 단순히 게시물 작성자의 의견만 들어가게 되므로 댓글을 통한 토론의 대한 의견을 확인할 수 없음. 그렇기에 크롤링할때 댓글도 함께 가져와 댓글의 내용도 함께 가져와서 요약을 진행하면 게시물 작성자의 의견뿐만아니라 다른 여러사람의 한가지의 주제를 가지고 많은 의견을 들어볼 수 있게 됨.

# 문제
1. 현재는 크롤링에는 댓글을 크롤링하는 부분이 구현되어있지 않음.
2. 그에따라 댓글은 무시한치 오직 글 작성자의 의견에 대해서만 요약을 진행하게 됨. 이러면 한 주제에 대해서 한 사람의 의견만 받게 됨. 이러면 레딧과 디시의 댓글의 의미가 사라짐.

# 요구사항
1. 크롤링 시 게시물과 함께 댓글도 조회하여 저장하기.
2. 댓글은 새로운 `comment` 테이블에 보관한다.
3. 제안 스키마
	- `id` BIGSERIAL: 댓글 행 PK
	- `item_id` BIGINT: 어떤 게시물에 속하는지 (FK → item.id)
	- `external_id` TEXT: 원본 플랫폼 댓글 ID (예: t1_xxxxxx)
	- `author` TEXT: 댓글 작성자 닉네임 (문자열)
	- `parent_id` BIGINT NULL: 대댓글 연결용, 최상위 댓글은 NULL (FK → comment.id)
	- `content` TEXT: 댓글 본문
	- `created_at` TIMESTAMPTZ: 댓글 작성 시각
	- `is_deleted` BOOLEAN DEFAULT FALSE: 삭제/숨김 여부
	- `metadata` JSONB DEFAULT '{}'::jsonb: 점수·플레어 등 추가 정보 저장
	- 제약/인덱스: `UNIQUE(item_id, external_id)`, `INDEX(item_id)`, `INDEX(parent_id)`
4. 디시인사이드는 기존 request 크롤링, Reddit은 OAuth API 호출을 그대로 사용하며 댓글 수집 로직을 본문 수집 과정에 통합한다.
5. 동일 게시물을 두 번 요청하지 않도록 본문을 가져올 때 댓글도 동시에 수집해 저장한다 (추가 재크롤링 금지).
