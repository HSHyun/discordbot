# test_dcinside_summary.py 요약

## 역할
- DCInside 게시물 한 건을 선택해 Codex 요약 파이프라인을 빠르게 검증하는 테스트 스크립트.
- 기존 본문/이미지 다운로드·요약 함수를 그대로 호출해 실제 파이프라인과 동일한 방식으로 동작 여부를 확인한다.

## 핵심 흐름
1. `.env`를 읽어 Codex와 DB 설정을 초기화한다.
2. 기본적으로 최신 추천 게시물 중 허용된 말머리만 필터링하고, `--url`이 있으면 특정 게시물을 강제로 선택한다.
3. `fetch_post_body()`로 본문·이미지·댓글을 수집하고, 최대 5개의 이미지와 댓글 하이라이트를 요약 입력에 포함한다.
4. 이미지는 임시 디렉터리(`data/test-assets/dcinside`)에 다운로드하고, Codex 요약이 끝나면 기본적으로 삭제한다(`--keep-assets`로 유지 가능).
5. Codex 요약 결과와 입력 텍스트·이미지 목록, 참고한 댓글을 콘솔에 출력한다.

## 주요 CLI 옵션
- `--url`: 수동으로 테스트할 게시물 URL 지정.
- `--max-images`: 요약에 첨부할 이미지 개수 제한(기본 5).
- `--keep-assets`: 다운로드한 이미지 파일 유지.

## 운영 시 유의 사항
- Codex CLI 인증과 `.env` 설정이 사전에 완료돼 있어야 한다.
- 비디오가 포함된 게시물은 테스트에서 제외된다.
- 실제 DB에는 영향을 주지 않으며, 요약 결과도 저장하지 않는다.

## 확장 아이디어
- 댓글 출력 개수(현재 5개)를 옵션화.
- 요약 결과를 파일로 저장해 회귀 비교에 활용.
- 여러 게시물을 순차적으로 테스트하는 배치 모드 추가.
